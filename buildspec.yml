version: 0.2

phases:
  install:
    commands:
      - echo Installing Maven...
      - mvn install -DskipTests=true   # Install dependencies without running tests
  pre_build:
    commands:
      - echo Starting pre-build phase...
      - mvn validate  # Optionally validate project
  build:
    commands:
      - echo Building the Maven WAR project...
      - mvn clean install -DskipTests  # Clean and install, but skip tests to speed up build (can be removed if needed)
  post_build:
    commands:
      - echo Build completed
artifacts:
  files:
    - target/*.war   # Store the WAR file generated by Maven
  discard-paths: no
